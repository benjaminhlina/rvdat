---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set( 
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# rvdat

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
<!-- badges: end -->

The intent of this package is to provide R wrapper functions to Frank Smith's VDAT for those who are intimidated by the shell (me) or just want to keep everything in one language (R, also me).

## Development notes
If contributing, please use the following general style:

-   Begin any function that will call `vdat.exe` with the `vdat_loc <- check_vdat_location()` helper function.
-   Use the [`sys` package](https://jeroen.r-universe.dev/sys) to send commands to `vdat.exe`, usually via `sys::exec_internal`. The "cmd" argument can then be `vdat_loc`.
-   Create informative messages, warnings, and errors using the [`cli` package](https://cli.r-lib.org/).
-   In summary:

```{r, eval=FALSE}
a_new_wrapper <- function(some_command){
  vdat_loc <- check_vdat_location()
  
  sys::exec_internal(
    vdat_loc,
    args = some_command
  )
  
  cli::cli_alert_success('Woohoo!!')
}
```


## Actually using the package

Download [current version of VDAT executable](https://gitlab.oceantrack.org/otndc/vdat-working-group) and point `vdat_here` to its location.

Load the package:
```{r}
library(rvdat)
```

Set system location of vdat.exe:
```{r}
vdat_here('inst/vdat.exe')
```

Call VDAT using standard flags:
```{r}
call_vdat('--help')
```

